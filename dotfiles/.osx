# Close any open System Preferences panes, to prevent them from overriding
# settings we’re about to change
osascript -e 'tell application "System Preferences" to quit'

# Ask for the administrator password upfront
sudo -v

# Menu bar: show battery percentage
defaults write com.apple.menuextra.battery ShowPercent YES

# Automatically hide and show the Dock
defaults write com.apple.dock autohide -bool true

# Week starts on monday
defaults write com.apple.iCal "first day of week" -int 1

# Avoid creating .DS_Store files on network or USB volumes
defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool true
defaults write com.apple.desktopservices DSDontWriteUSBStores -bool true

# Disable Notification Center and remove the menu bar icon
launchctl unload -w /System/Library/LaunchAgents/com.apple.notificationcenterui.plist 2> /dev/null

# Restart automatically if the computer freezes
sudo systemsetup -setrestartfreeze on

# Require password immediately after sleep or screen saver begins
defaults write com.apple.screensaver askForPassword -int 1
defaults write com.apple.screensaver askForPasswordDelay -int 0

# Don’t show recent applications in Dock
defaults write com.apple.dock show-recents -bool false